<mxGraphModel dx="424" dy="1865" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="IV6d1TyfDwbgepPFB9Hx-142" value="" style="rounded=0;whiteSpace=wrap;html=1;opacity=40;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1"><mxGeometry x="100" y="-190" width="800" height="1230" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-140" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;opacity=20;strokeColor=#d79b00;" vertex="1" parent="1"><mxGeometry x="251.5" y="-170" width="640" height="450" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-139" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;opacity=20;strokeColor=#d79b00;" vertex="1" parent="1"><mxGeometry x="250" y="290" width="640" height="740" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-6" target="IV6d1TyfDwbgepPFB9Hx-102"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-6" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;strokeWidth=1;fillColor=#f5f5f5;fontColor=#333333;" vertex="1" parent="1"><mxGeometry x="393" y="360" width="481" height="106" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-9" value="" style="endArrow=classic;html=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="269" y="1094" as="sourcePoint"/><mxPoint x="394" y="1094" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-11" value="&lt;b&gt;nn.Embedding&lt;br&gt;[32000,3200]&lt;br&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="1"><mxGeometry x="274" y="1064" width="100" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-16" value="&lt;b&gt;word_embedding&amp;nbsp; [seq_len,d_model]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="399" y="1074" width="345" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-21" value="查找表" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="1"><mxGeometry x="299" y="1094" width="50" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-24" value="" style="shape=flexArrow;endArrow=classic;html=1;exitX=0.091;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="571.395" y="1070" as="sourcePoint"/><mxPoint x="571.5" y="1020" as="targetPoint"/><Array as="points"><mxPoint x="571" y="1050"/></Array></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-26" value="&lt;b&gt;attention_input&amp;nbsp; [seq_len,d_model]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="399" y="840" width="345" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-28" target="IV6d1TyfDwbgepPFB9Hx-74"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-28" value="&lt;b&gt;Q&lt;br&gt;[seq_len,d_k]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="399" y="750" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-29" target="IV6d1TyfDwbgepPFB9Hx-75"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-29" value="&lt;b&gt;K&lt;br&gt;[seq_len,d_k]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="524" y="750" width="105" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-31" target="IV6d1TyfDwbgepPFB9Hx-91"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-31" value="&lt;b&gt;V&lt;br&gt;[seq_len,d_v]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="639" y="750" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-32" value="" style="endArrow=classic;html=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="454.76" y="840" as="sourcePoint"/><mxPoint x="454.76" y="790" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-33" value="&lt;b style=&quot;font-size: 10px&quot;&gt;WQ_weight&lt;br&gt;&amp;nbsp;[d_model,d_k]&lt;br&gt;无bias&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="358" y="790" width="90" height="50" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-34" value="&lt;b style=&quot;font-size: 10px&quot;&gt;WK_weight&lt;br&gt;&amp;nbsp;[d_model,d_k]&lt;br&gt;无bias&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="482" y="790" width="90" height="50" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-35" value="&lt;b style=&quot;font-size: 10px&quot;&gt;WV_weight&lt;br&gt;&amp;nbsp;[d_model,d_v]&lt;br&gt;无bias&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="693" y="790" width="90" height="50" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-36" value="" style="endArrow=classic;html=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="577" y="840" as="sourcePoint"/><mxPoint x="577" y="790" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-37" value="" style="endArrow=classic;html=1;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="689" y="840" as="sourcePoint"/><mxPoint x="689" y="790" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-47" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;*32 (num_heads)&lt;/font&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="759" y="760" width="110" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-48" value="&lt;b&gt;&lt;font style=&quot;font-size: 12px&quot;&gt;*32 (num_heads)&lt;/font&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="759" y="421" width="110" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-50" value="&lt;b&gt;MHA输出：[seq_len,d_v,num_heads] -&amp;gt; [seq_len,num_heads*d_v] = [seq_len,3200]&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;shadow=0;" vertex="1" parent="1"><mxGeometry x="386.5" y="381" width="490" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;MHA&lt;/font&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=#d5e8d4;strokeColor=#82b366;rounded=0;shadow=0;opacity=50;gradientColor=#97d077;" vertex="1" parent="1"><mxGeometry x="265" y="320" width="60" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-73" value="&lt;b&gt;input_ids&amp;nbsp; [seq_len]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="105" y="1074" width="160" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-74" target="IV6d1TyfDwbgepPFB9Hx-79"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-74" value="&lt;b&gt;RoPE&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="399" y="690" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-75" target="IV6d1TyfDwbgepPFB9Hx-79"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-75" value="&lt;b&gt;RoPE&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="521.5" y="690" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-79" target="IV6d1TyfDwbgepPFB9Hx-88"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-79" value="" style="shape=sumEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1"><mxGeometry x="560" y="633" width="33" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-82" value="&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;b&gt;Mask&lt;/b&gt;&lt;/font&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;labelBorderColor=#000000;fontColor=#3333FF;" vertex="1" parent="1"><mxGeometry x="619" y="638" width="50" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-86" value="" style="endArrow=classic;html=1;entryX=1.089;entryY=0.551;entryDx=0;entryDy=0;entryPerimeter=0;exitX=-0.007;exitY=0.547;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-82" target="IV6d1TyfDwbgepPFB9Hx-79"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="619" y="647" as="sourcePoint"/><mxPoint x="639" y="590" as="targetPoint"/><Array as="points"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-95" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#3333FF;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-88" target="IV6d1TyfDwbgepPFB9Hx-91"><mxGeometry relative="1" as="geometry"><mxPoint x="576.5" y="490" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-88" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Softmax&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="500" y="570" width="153" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-91" target="IV6d1TyfDwbgepPFB9Hx-96"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-91" value="" style="shape=sumEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1"><mxGeometry x="560" y="520" width="33" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-96" value="&lt;b&gt;output_onehead&amp;nbsp; [seq_len,d_v]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="404" y="410" width="345" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-99" value="&lt;b&gt;Linear&lt;br&gt;[3200,3200]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="585" y="480" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-102" target="IV6d1TyfDwbgepPFB9Hx-105"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-102" value="" style="shape=orEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#3333FF;" vertex="1" parent="1"><mxGeometry x="618.5" y="290" width="30" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-105" target="IV6d1TyfDwbgepPFB9Hx-115"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-105" target="IV6d1TyfDwbgepPFB9Hx-118"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-105" target="IV6d1TyfDwbgepPFB9Hx-134"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="634" y="270"/><mxPoint x="350" y="270"/><mxPoint x="350" y="-75"/></Array></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-105" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;RMSNorm&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="557" y="210" width="153" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-107" value="&lt;br&gt;&lt;span style=&quot;font-family: &amp;#34;helvetica&amp;#34; ; font-size: 15px&quot;&gt;&lt;b&gt;参数列表：&lt;br&gt;d_q = d_k = 100&lt;br&gt;d_v = 100&lt;br&gt;d_model =3200&lt;br&gt;seq_len &amp;lt;= 2048&lt;br&gt;num_heads = 32&lt;br&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];rounded=0;shadow=0;opacity=50;gradientColor=#97d077;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="110" y="-90" width="130" height="120" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-109" target="IV6d1TyfDwbgepPFB9Hx-26"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-109" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;RMSNorm&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="495" y="910" width="153" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-111" target="IV6d1TyfDwbgepPFB9Hx-109"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-111" target="IV6d1TyfDwbgepPFB9Hx-102"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="350" y="1000"/><mxPoint x="350" y="305"/></Array></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-111" value="&lt;b&gt;decoder_input&amp;nbsp; [seq_len,d_model]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="399" y="980" width="345" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;entryPerimeter=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-115" target="IV6d1TyfDwbgepPFB9Hx-125"><mxGeometry relative="1" as="geometry"><mxPoint x="633.5" y="90" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-115" value="&lt;span style=&quot;font-size: 14px&quot;&gt;&lt;b&gt;up&lt;br&gt;[seq_len,8640]&lt;br&gt;&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="578.5" y="110" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-117" value="&lt;b&gt;Linear_up&lt;br&gt;[3200 , 8640]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="639" y="160" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#3333FF;entryPerimeter=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-118" target="IV6d1TyfDwbgepPFB9Hx-125"><mxGeometry relative="1" as="geometry"><mxPoint x="617.0000000000043" y="75" as="targetPoint"/></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-118" value="&lt;span style=&quot;font-size: 14px&quot;&gt;&lt;b&gt;gate [seq_len,8640]&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="393" y="110" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-119" value="&lt;b&gt;Linear_gate&lt;br&gt;[3200 , 8640]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="452.75" y="160" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-125" target="IV6d1TyfDwbgepPFB9Hx-128"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-125" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.flowchart.on-page_reference;fontColor=#3333FF;" vertex="1" parent="1"><mxGeometry x="618.5" y="60" width="30" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-126" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_2;whiteSpace=wrap;fontColor=#3333FF;fillColor=#000000;" vertex="1" parent="1"><mxGeometry x="628.5" y="70" width="10" height="10" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-127" value="&lt;b&gt;Linear_down&lt;br&gt;[8640,3200]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="638.5" y="10" width="110" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontColor=#3333FF;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-128" target="IV6d1TyfDwbgepPFB9Hx-134"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-128" value="&lt;span style=&quot;font-size: 14px&quot;&gt;&lt;b&gt;down&lt;br&gt;[seq_len,d_model]&lt;br&gt;&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="562.75" y="-40" width="141.5" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontColor=#3333FF;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-133" target="IV6d1TyfDwbgepPFB9Hx-149"><mxGeometry relative="1" as="geometry"><mxPoint x="633" y="-220" as="targetPoint"/><Array as="points"><mxPoint x="633" y="-186"/></Array></mxGeometry></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-133" value="&lt;b&gt;Transformer Block Output:&amp;nbsp; [seq_len,d_model]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="460.5" y="-152" width="345" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-134" target="IV6d1TyfDwbgepPFB9Hx-133"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-134" value="" style="shape=orEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#3333FF;" vertex="1" parent="1"><mxGeometry x="618" y="-90" width="30" height="30" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-141" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px&quot;&gt;MLP&lt;/font&gt;&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=#d5e8d4;strokeColor=#82b366;rounded=0;shadow=0;opacity=50;gradientColor=#97d077;" vertex="1" parent="1"><mxGeometry x="270" y="-142" width="50" height="20" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-143" value="&lt;b style=&quot;font-size: 17px&quot;&gt;&lt;font style=&quot;font-size: 17px&quot;&gt;Transformer&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 17px&quot;&gt;Block&lt;br&gt;&lt;/font&gt;26 layer&lt;br&gt;&lt;/b&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=#d5e8d4;strokeColor=#82b366;rounded=0;shadow=0;opacity=50;gradientColor=#97d077;" vertex="1" parent="1"><mxGeometry x="120" y="-157" width="110" height="50" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-145" target="IV6d1TyfDwbgepPFB9Hx-73"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-145" value="&lt;b&gt;prompt&amp;nbsp; [prompt_len]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="105" y="1180" width="160" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-147" value="&lt;b&gt;Tokenizer : &lt;br&gt;在句首添加一个EOS&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#d6b656;strokeWidth=1;fillColor=#fff2cc;" vertex="1" parent="1"><mxGeometry x="200" y="1130" width="130" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-151" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontColor=#3333FF;" edge="1" parent="1" source="IV6d1TyfDwbgepPFB9Hx-149" target="IV6d1TyfDwbgepPFB9Hx-150"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-149" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;RMSNorm&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="556.5" y="-260" width="153" height="40" as="geometry"/></mxCell><mxCell id="IV6d1TyfDwbgepPFB9Hx-150" value="&lt;b&gt;Linear_down&lt;br&gt;[3200,32000]&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1"><mxGeometry x="560" y="-320" width="150" height="40" as="geometry"/></mxCell></root></mxGraphModel>